<div class="container-fluid">
    <div class="row">
      <!-- Sidebar -->
      <!-- Contenedor del menú lateral -->
<!-- Contenedor del menú lateral -->
<div class="col-md-3 col-lg-2 d-none d-md-block bg-dark text-white vh-100">
    <div class="d-flex flex-column p-3 h-100">
      <!-- Título del menú -->
      <a href="/" class="d-flex align-items-center mb-3 mb-md-0 text-white text-decoration-none">
        <span class="fs-5">Configuración CMS</span>
      </a>
      <hr>
  
      <!-- Lista de navegación -->
      <ul class="nav nav-pills flex-column mb-auto">
        <li class="nav-item">
          <a class="nav-link text-white" (click)="showSection('cargarContenido')">
            Cargar Contenido
          </a>
          <!-- Submenú -->
          <ul class="nav flex-column ms-3">
            <li><a class="nav-link text-white" (click)="showSection('eventos')">Eventos</a></li>
            <li><a class="nav-link text-white" (click)="showSection('rutas')">Rutas</a></li>
            <li><a class="nav-link text-white" (click)="showSection('puntos')">Puntos de Interes</a></li>
            <li><a class="nav-link text-white" (click)="showSection('ofertas')">Ofertas</a></li>
            <li><a class="nav-link text-white" (click)="showSection('noticias')">Noticias</a></li>
            <li><a class="nav-link text-white" (click)="showSection('multimedia')">Multimedia</a></li>
          </ul>
        </li>
        <li>
          <a class="nav-link text-white" (click)="showSection('visitas')">Visitas</a>
        </li>
        <li>
          <a class="nav-link text-white" (click)="showSection('adminUsuario')">Administración de Usuario</a>
        </li>
      </ul>
      <hr>
  
      <!-- Información de usuario -->
       @if (user) {
    
          <div class="dropdown">
            <button class="btn btn-dark dropdown-toggle" type="button" id="dropdownMenu2" data-bs-toggle="dropdown" aria-expanded="false">
              {{ user.firstName }}
            </button>
            <ul class="dropdown-menu" aria-labelledby="dropdownMenu2">
              <li><button class="dropdown-item" type="button" (click)="logout()">Cerrar Sesión</button></li>
            </ul>
          </div>

        

       }
     
    
    
     
    </div>
  </div>
  
  <!-- Botón de hamburguesa para pantallas pequeñas -->
  <div class="d-md-none position-fixed bottom-0 start-0 p-3">
    <button class="btn btn-dark" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasMenu" aria-controls="offcanvasMenu">
      ☰ Menú
    </button>
  </div>
  
  <!-- Offcanvas para menú lateral en pantallas pequeñas -->
  <div class="offcanvas offcanvas-start w-75 bg-dark text-white" tabindex="-1" id="offcanvasMenu">
    <div class="offcanvas-header">
      <h5 class="offcanvas-title">Configuración CMS</h5>
      <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">
      <ul class="nav nav-pills flex-column mb-auto">
        <li class="nav-item">
          <a class="nav-link text-white" (click)="showSection('cargarContenido')">Cargar Contenido</a>
          <ul class="nav flex-column ms-3">
            <li><a class="nav-link text-white" (click)="showSection('eventos')">Eventos</a></li>
            <li><a class="nav-link text-white" (click)="showSection('rutas')">Rutas</a></li>
            <li><a class="nav-link text-white" (click)="showSection('puntos')">Puntos de Interes</a></li>
            <li><a class="nav-link text-white" (click)="showSection('ofertas')">Ofertas</a></li>
            <li><a class="nav-link text-white" (click)="showSection('noticias')">Noticias</a></li>
            <li><a class="nav-link text-white" (click)="showSection('multimedia')">Multimedia</a></li>
          </ul>
        </li>
        <li><a class="nav-link text-white" (click)="showSection('visitas')">Visitas</a></li>
        <li><a class="nav-link text-white" (click)="showSection('adminUsuario')">Administración de Usuario</a></li>
      </ul>
    </div>
  </div>
  
  
  <!-- Botón de hamburguesa para pantallas pequeñas -->
  <div class="d-md-none position-fixed bottom-0 start-0 p-3">
    <button class="btn btn-dark" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasMenu" aria-controls="offcanvasMenu">
      ☰ Menú
    </button>
  </div>
  
  <!-- Offcanvas para menú lateral en pantallas pequeñas -->
  <div class="offcanvas offcanvas-start bg-dark text-white" tabindex="-1" id="offcanvasMenu">
    <div class="offcanvas-header">
      <h5 class="offcanvas-title">Configuración CMS</h5>
      <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">
      <ul class="nav nav-pills flex-column mb-auto">
        <li class="nav-item">
          <a class="nav-link text-white" (click)="showSection('cargarContenido')">Cargar Contenido</a>
          <ul class="nav flex-column ms-3">
            <li><a class="nav-link text-white" (click)="showSection('eventos')">Eventos</a></li>
            <li><a class="nav-link text-white" (click)="showSection('rutas')">Rutas</a></li>
            <li><a class="nav-link text-white" (click)="showSection('puntos')">Puntos de Interes</a></li>
            <li><a class="nav-link text-white" (click)="showSection('ofertas')">Ofertas</a></li>    
            <li><a class="nav-link text-white" (click)="showSection('noticias')">Noticias</a></li>
            <li><a class="nav-link text-white" (click)="showSection('multimedia')">Multimedia</a></li>
          </ul>
        </li>
        <li><a class="nav-link text-white" (click)="showSection('visitas')">Visitas</a></li>
        <li><a class="nav-link text-white" (click)="showSection('adminUsuario')">Administración de Usuario</a></li>
        
      </ul>
    </div>
  </div>
  
  
      <!-- Content Area -->
      <div class="col p-3">
        <!-- Secciones de contenido -->

        @if (currentSection === 'cargarContenido') {

            <div class="text-center text-white" >
          <h2>Cargar Contenido</h2>
          <p>Selecciona la opción de actividad que desea Cargar.</p>
        </div>

        }
        
        @if (currentSection === 'eventos') {
          <div class="text-center">
            <h2 class="text-white custom-name">Eventos</h2>
            <p>Sube y administra fotos aquí.</p>
            <div class="row custom-row">
              
              <!-- Formulario en una columna que ocupa el 50% -->
              <div class="col-lg-6 custom-col">
                <h1 class="text-light custom-title">Crear nuevo evento</h1>
                <form [formGroup]="eventsForm" (ngSubmit)="save()">
                  <input type="hidden" formControlName="id">
        
                  <!-- Titulo de evento -->
                  <div class="form-floating mb-3">
                    <input type="text" class="form-control" id="titulo" formControlName="titulo" required minlength="3">
                    <label for="titulo">Título de evento</label>
                  </div>
        
                  <!-- Contenido del evento -->
                  <div class="form-floating mb-3">
                    <textarea class="form-control form-control-lg" id="contenido" formControlName="contenido" rows="8" required></textarea>
                    <label for="contenido">Contenido</label>
                  </div>
        
                  <!-- Cargar imagen -->
                  <div class="input-group">
                    <input type="file" class="form-control" id="photo" formControlName="photo" (change)="onFileChange($event)">
                    <button class="w-100 btn btn-outline-light mb-5 mt-5" type="submit">Guardar</button>
                  </div>
                </form>
              </div>
        
              <!-- Sección de drag and drop en la otra columna -->
              <div class="col-lg-4 custom-col">
                <h1 class="text-light custom-title">Tus eventos</h1>
                <div class="d-flex flex-wrap justify-content-start">
                  @for (evento of eventos; track evento.id) {
                    <div class="example-box">
                      @if (evento.imgEvento.startsWith('http')) {
                        <div cdkDrag class="image-container">
                          <img [src]="evento.imgEvento" alt="{{ evento.titulo }}" class="img-thumbnail" style="width: 100px; height: 100px;">
                          <strong class="text-light">{{evento.titulo}}</strong>
                        </div>
                      } @else {
                        <div cdkDrag class="image-container">
                          <img [src]="'http://localhost:8080/files/' + evento.imgEvento" alt="{{ evento.titulo }}" class="img-thumbnail" style="width: 100px; height: 100px;">
                          <strong class="text-light">{{evento.titulo}}</strong>
                        </div>
                      }
                    </div>
                  }
                </div>
              </div>
              
              
            </div>
          </div>
        }
        
        
        @if (currentSection === 'rutas') {

            <div >
                <h2>Rutas</h2>
                <p>Sube y administra videos aquí.</p>
              </div>

        }
        @if (currentSection === 'puntos') {

            <div >
                <h2>Puntos de interes</h2>
                <p>Sube y administra videos aquí.</p>
              </div>

        }
     
        
        @if (currentSection === 'noticias') {

            <div >
                <h2>Noticias</h2>
                <p>Sube y administra videos aquí.</p>
              </div>

        }
        @if (currentSection === 'multimedia') {

            <div >
                <h2>Multimedia</h2>
                <p>Sube y administra videos aquí.</p>
              </div>

        }
        
        
        
        @if (currentSection === 'visitas') {

            <div>
                <h2>Visitas</h2>
                <p>Información sobre visitas.</p>
              </div>
        }

        @if (currentSection === 'adminUsuario') {
            <div>
                <h2>Administración de Usuario</h2>
                <p>Configura y administra usuarios.</p>
              </div>

        }
       
       
       
      </div>
    </div>
  </div>
  